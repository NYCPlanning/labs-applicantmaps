<div class="cell sidebar">

  {{project-setup-status project=model}}

  <h4 class="header-small">Project Maps</h4>
  {{link-to 'Area Map' 'projects.edit.map.edit' model.id (query-params mapType=(dasherize 'Area Map'))
    class='button large expanded'
  }}

</div>
<div class="cell large-auto dashboard">

  <div class="grid-x grid-padding-x">
    <div class="cell xlarge-auto">

      {{#mapbox-gl
          id='dashboard-map'
          mapLoaded=(action 'handleMapLoad')
          initOptions=(hash
            zoom=15.479951257235973
            center=(array -73.96532400540775 40.709710016659386)
            bearing=20.97777777785973
          )
          as | map |
        }}
          {{!-- Ad-hoc source and layer for developmentSite --}}
          {{#if model.developmentSite}}
            {{#map.source options=(mapbox-geojson-source model.developmentSite) as |source|}}
              {{source.layer
                layer=projectGeomLayers.developmentSiteLayer
                before='boundary_country'
              }}
            {{/map.source}}
          {{/if}}

          {{!-- Ad-hoc source and layer for projectArea --}}
          {{#if model.projectArea}}
            {{#map.source options=(mapbox-geojson-source model.projectArea) as |source|}}
              {{source.layer
                layer=projectGeomLayers.projectAreaLayer
                before='boundary_country'
              }}
            {{/map.source}}
          {{/if}}

          {{!-- Ad-hoc source and layer for rezoningArea --}}
          {{#if model.rezoningArea}}
            {{#map.source options=(mapbox-geojson-source model.rezoningArea) as |source|}}
              {{source.layer
                layer=projectGeomLayers.rezoningAreaLayer
                before='boundary_country'
              }}
            {{/map.source}}
          {{/if}}
      {{/mapbox-gl}}

    </div>
    <div class="cell xlarge-shrink dashboard-controls">

      <div class="grid-x grid-margin-x">
        <div class="cell auto">
          <strong>Development Site</strong>
        </div>
        <div class="cell shrink">
          <button class="button tiny gray no-margin">
            Edit
            {{#ember-popover
              event='click'
              side='bottom'
              as |popover|
            }}
              <button class="button tiny no-margin">Select Lots</button>
              <button class="button tiny no-margin">Draw Manually</button>
            {{/ember-popover}}
          </button>
        </div>
        <div class="cell shrink">
          <a>{{fa-icon 'trash' class='dark-gray'}}</a>
        </div>
      </div>
      <hr />
      <div class="grid-x grid-margin-x">
        <div class="cell auto">
          <strong>Project Area </strong>
        </div>
        <div class="cell shrink">
          <a>{{fa-icon 'plus' class='green-muted'}}</a>
        </div>
      </div>
      <hr />
      <div class="grid-x grid-margin-x">
        <div class="cell auto">
          <strong>Underlying Zoning</strong>
        </div>
        <div class="cell shrink">
          <a>{{fa-icon 'plus' class='green-muted'}}</a>
        </div>
      </div>
      <hr />
      <div class="grid-x grid-margin-x">
        <div class="cell auto">
          <strong>Commercial Overlays</strong>
        </div>
        <div class="cell shrink">
          <a>{{fa-icon 'plus' class='green-muted'}}</a>
        </div>
      </div>
      <hr />
      <div class="grid-x grid-margin-x">
        <div class="cell auto">
          <strong>Special Purpose Districts</strong>
        </div>
        <div class="cell shrink">
          <a>{{fa-icon 'plus' class='green-muted'}}</a>
        </div>
      </div>
      <hr />
      <div class="grid-x grid-margin-x">
        <div class="cell auto">
          <strong>Rezoning Area </strong>
        </div>
        <div class="cell shrink">
          <a>{{fa-icon 'plus' class='green-muted'}}</a>
        </div>
      </div>

    </div>
  </div>

</div>

{{outlet}}
