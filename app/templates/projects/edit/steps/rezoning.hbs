<nav class="step-nav">
  {{#link-to 'projects.edit.steps.project-area'
    tagName='span'
    class='button tiny gray no-margin'
  }}
    {{fa-icon 'long-arrow-alt-left'}} Back
  {{/link-to}}
</nav>

<h1>Are you requesting a rezoning&nbsp;action?</h1>

<p>For projects that request rezoning actions, you will need to define how the zoning is being&nbsp;altered.</p>

<p class="small-bottom-margin">
  <button
    type="button"
    class="button gray large no-margin"
    onclick={{action (mut model.needRezoning) false}}
  >
    <span class="dark-gray">
      {{#if (eq model.needRezoning false)}}
        {{fa-icon 'check-circle'
          fixedWidth=true
          transform='left-3 grow-3'
        }}
      {{else}}
        {{fa-icon 'circle'
          prefix='far'
          fixedWidth=true
          transform='left-3 grow-3'
        }}
      {{/if}}
    </span>
    <strong>No</strong>
    <small>(there are no rezoning actions)</small>
  </button>
</p>

<p class="small-bottom-margin">
  <button
    type="button"
    class="button gray large no-margin"
    onclick={{action (mut model.needRezoning) true}}
  >
    <span class="dark-gray">
      {{#if (eq model.needRezoning true)}}
        {{fa-icon 'check-circle'
          fixedWidth=true
          transform='left-3 grow-3'
        }}
      {{else}}
        {{fa-icon 'circle'
          prefix='far'
          fixedWidth=true
          transform='left-3 grow-3'
        }}
      {{/if}}
    </span>
    <strong>Yes</strong>
    <small>(I need to alter the zoning)</small>
  </button>
</p>

{{#if (eq model.needRezoning true)}}
  {{!-- Note: We will want form validation here that requires them to say yes to at least one of these three --}}

  <h2 class="header-medium">Indicate which types of zoning you are altering:</h2>

  {{!-- Underlying Zoning --}}
  <div class="grid-x grid-padding-x">
    <div class="cell medium-5 xlarge-4 xxlarge-3">
      <p>Underlying Zoning</p>
    </div>
    <div class="cell medium-shrink">
      <button
        type="button"
        class="button gray small expanded"
        onclick={{action (mut model.needUnderlyingZoning) true}}
      >
        <span class="dark-gray">
          {{#if (eq model.needUnderlyingZoning true)}}
            {{fa-icon 'check-circle'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{else}}
            {{fa-icon 'circle'
              prefix='far'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{/if}}
        </span>
        <strong>Yes</strong>
      </button>
    </div>
    <div class="cell medium-shrink">
      <button
        type="button"
        class="button gray small expanded"
        onclick={{action (mut model.needUnderlyingZoning) false}}
      >
        <span class="dark-gray">
          {{#if (eq model.needUnderlyingZoning false)}}
            {{fa-icon 'check-circle'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{else}}
            {{fa-icon 'circle'
              prefix='far'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{/if}}
        </span>
        <strong>No</strong>
      </button>
    </div>
  </div>

  {{!-- Commercial Overlays --}}
  <div class="grid-x grid-padding-x">
    <div class="cell medium-5 xlarge-4 xxlarge-3">
      <p>Commercial Overlays</p>
    </div>
    <div class="cell medium-shrink">
      <button
        type="button"
        class="button gray small expanded"
        onclick={{action (mut model.needCommercialOverlay) true}}
      >
        <span class="dark-gray">
          {{#if (eq model.needCommercialOverlay true)}}
            {{fa-icon 'check-circle'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{else}}
            {{fa-icon 'circle'
              prefix='far'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{/if}}
        </span>
        <strong>Yes</strong>
      </button>
    </div>
    <div class="cell medium-shrink">
      <button
        type="button"
        class="button gray small expanded"
        onclick={{action (mut model.needCommercialOverlay) false}}
      >
        <span class="dark-gray">
          {{#if (eq model.needCommercialOverlay false)}}
            {{fa-icon 'check-circle'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{else}}
            {{fa-icon 'circle'
              prefix='far'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{/if}}
        </span>
        <strong>No</strong>
      </button>
    </div>
  </div>

  {{!-- Special Purpose Districts --}}
  <div class="grid-x grid-padding-x">
    <div class="cell medium-5 xlarge-4 xxlarge-3">
      <p>Special Purpose Districts</p>
    </div>
    <div class="cell medium-shrink">
      <button
        type="button"
        class="button gray small expanded"
        onclick={{action (mut model.needSpecialDistrict) true}}
      >
        <span class="dark-gray">
          {{#if (eq model.needSpecialDistrict true)}}
            {{fa-icon 'check-circle'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{else}}
            {{fa-icon 'circle'
              prefix='far'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{/if}}
        </span>
        <strong>Yes</strong>
      </button>
    </div>
    <div class="cell medium-shrink">
      <button
        type="button"
        class="button gray small expanded"
        onclick={{action (mut model.needSpecialDistrict) false}}
      >
        <span class="dark-gray">
          {{#if (eq model.needSpecialDistrict false)}}
            {{fa-icon 'check-circle'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{else}}
            {{fa-icon 'circle'
              prefix='far'
              fixedWidth=true
              transform='left-3 grow-3'
            }}
          {{/if}}
        </span>
        <strong>No</strong>
      </button>
    </div>
  </div>

  {{#link-to 'projects.edit.geometry-edit' model.id (query-params mode='draw' type=firstGeomType)
    tagName='span'
    disabled=(not hasAnsweredAll)
    class='button large expanded'
  }}
    {{fa-icon 'draw-polygon' fixedWidth=true transform='left-3 grow-3'}}
    Redraw Zoning
  {{/link-to}}

{{else if (eq model.needRezoning false)}}

  <p class="text-right">
    {{#link-to 'projects.show'
      tagName='span'
      class='button large'
    }}
      Next
      {{fa-icon 'long-arrow-alt-right' fixedWidth=true transform='right-3 grow-3'}}
    {{/link-to}}
  </p>

{{/if}}

{{outlet}}
