<div class="cell medium-5 large-3 sidebar">
  <h2>{{model.project.projectName}}</h2>
  <p>!Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
  tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
  quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
  consequat.</p>

  <hr/>

  <div class="text-left">
    <input type="radio" name="orientation" value="Portrait" id="Portrait" required/>
    <label for="Portrait">Portrait</label>
    <input type="radio" name="orientation" value="Portrait" id="landscape" required/>
    <label for="landscape">Landscape</label>
  </div>

  <button
    type="button"
    class="button expanded project-save-button"
    onclick={{action 'save' model}}
  >
    Save to this project
  </button>
</div>

<div class="cell medium-7 large-9 paper-container">
  <div class="paper letter landscape padding-7mm">
    <div class="paper-grid grid-x">

      <div class="cell small-3">
        <div class="grid-y" style="height:100%;">
          <div class="cell shrink legend">
            <section class="legend-section">
              <h1 class="legend-project-name">{{model.project.projectName}} - Area Map</h1>
              <h2 class="legend-applicant">{{model.project.applicantName}}</h2>
              {{!-- {{#if model.project.description}}
                {{model.project.description}}
                {{/if}} --}}
            </section>
            <hr>
            <section class="legend-section">
              <h2 class="legend-section-header">Project</h2>
              {{#if model.project.projectArea}}
                {{labs-ui/legend-item item=areaMapLegendConfig.projectArea}}
              {{/if}}
              {{#if model.project.developmentSite}}
                {{labs-ui/legend-item item=areaMapLegendConfig.developmentSite}}
              {{/if}}
              {{#if model.project.rezoningArea}}
                {{labs-ui/legend-item item=areaMapLegendConfig.rezoningArea}}
              {{/if}}
              {{#if model.project.projectGeometryBuffer}}
                {{labs-ui/legend-item item=areaMapLegendConfig.projectGeometryBuffer}}
              {{/if}}
            </section>
            <section class="legend-section">
              <h2 class="legend-section-header">Zoning</h2>
              {{#each areaMapLegendConfig.zoningLegendItems as |item|}}
                {{labs-ui/legend-item item=item}}
              {{/each}}
            </section>
            <section class="legend-section">
              <h2 class="legend-section-header">Land Use</h2>
              {{#each areaMapLegendConfig.landuseLegendItems as |item|}}
                {{labs-ui/legend-item item=item}}
              {{/each}}
            </section>
          </div>
          <div class="cell auto">
            <div style="background:hotpink;height:100%;">THIS IS THE CITY CONTEXT MAP</div>
          </div>
        </div>
      </div>

      <div class="cell small-9">
        {{#area-map-form tagName='' as |areaMapForm|}}
          {{#labs-map
            id='main-map'
            initOptions=(hash
              style=areaMapForm.model.meta.mapboxStyle
              zoom=12
              center=(array -73.983307 40.704977)
            )
            mapLoaded=(action 'handleMapLoaded') as |map|}}

              {{map.labs-layers layerGroups=areaMapForm.model.layerGroups}}
              {{#map.source options=(mapbox-geojson-source model.project.developmentSite) as |source|}}
                {{source.layer
                  layer=developmentSiteLayer
                  before='boundary_country'
                }}
              {{/map.source}}

              {{#map.source options=(mapbox-geojson-source model.project.projectArea) as |source|}}
                {{source.layer
                  layer=projectAreaLayer
                  before='boundary_country'
                }}
              {{/map.source}}

              {{#map.source options=(mapbox-geojson-source model.project.projectGeometryBuffer) as |source|}}
                {{source.layer
                  layer=projectBufferLayer
                  before='boundary_country'
                }}
              {{/map.source}}

          {{/labs-map}}
        {{/area-map-form}}
        {{!-- TODO: print a real permalink --}}<p class="text-tiny text-right"><a href="">localhost:4200/projects/10/area-map</a></p>
      </div>

    </div>

  </div>
</div>

{{outlet}}
